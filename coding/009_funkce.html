<!DOCTYPE html>
<html lang="cs">

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>

    <title>Funkce</title>
    <meta name="description" content="Funkce Motivace Doteď jsme jednotlivé problémy řešili zadáním několika řádků s příkazy. Například pro blikání s LED jsme použili: 1 2 3 4 5 6 7 8 9 10 11 12 ..." />

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/assets/jquery.fancybox.min.css" />
    <link rel="stylesheet" type="text/css" media="screen,projection" href="/assets/main.css">
    <link rel="canonical" href="https://robotka.robotickytabor.cz/coding/009_funkce.html" />
    <link rel="stylesheet" href="/assets/font-awesome.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-172441283-1"></script>
<script>
  window['ga-disable-UA-172441283-1'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-172441283-1');
</script>

    
</head>


  <body>

    <div class="navbar-fixed">
<nav class="primary" role="navigation">

    <div class="nav-wrapper container">
      <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>

      <a id="logo-container" class="brand-logo" href="/">
        <img src="/img/logo.png">
        <span style="border-bottom: 2px solid #ef476f;">Robotka</span>
      </a>

    
    

          <ul class="hide-on-med-and-down" style="list-style-type: none; margin-left: 200px">
            <li><a href="/">Úvod</a></li>
            <li><a href="/#galerie">Galerie</a></li>
            
                
                    
                    
                
                    
                    
                    <li><a href="/guide/">Návod na složení</a></li>
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
            

            
            <li><a href="/coding/000_vyvojove_prostredi.html">Programování</a></li>
            
            <li><a href="/assignments/first/01_01_blikani.html">Úkoly</a></li>
            
            <li><a href="/inspiration/000_uvod.html">Inspirace</a></li>

            
            <li><a href="/recovery/index.html" class="orange-text" style="font-weight: bold">Nefunguje?</a></li>


          </ul>

          <ul id="nav-mobile" class="side-nav">
            <li><a href="/">Úvod</a></li>
            <li><a href="/#galerie">Galerie</a></li>

              
                
                    
                    
                
                    
                    
                    <li><a href="/guide/">Návod na složení</a></li>
                      
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
            

            
            <li><a href="/coding/000_vyvojove_prostredi.html">Programování</a></li>
            
            <li><a href="/assignments/first/01_01_blikani.html">Úkoly</a></li>
            
            <li><a href="/inspiration/000_uvod.html">Inspirace</a></li>

            
            <li><a href="/recovery/index.html" class="orange-text" style="font-weight: bold">Nefunguje?</a></li>
          </ul>



          

          <form action="/search" class="search-form">
            <input type="text" placeholder="Hledat..." name="q">
            <button type="submit" class="btn-flat white-text"><i class="material-icons">search</i></button>
          </form>



    </div>
</nav>
</div>


    <main>
        
<div class="sidenav">
    
        <a href="/coding/000_vyvojove_prostredi.html">1. Vývojové prostředí</a>
        
    
        <a href="/coding/001_dalkove_ovladani.html">2. Dálkové ovládání</a>
        
    
        <a href="/coding/002_zalozeni_projektu.html">3. Nový projekt</a>
        
    
        <a href="/coding/003_prvni_program.html">4. První program</a>
        
    
        <a href="/coding/004_formatovani_kodu.html">5. Formátování kódu</a>
        
    
        <a href="/coding/005_komentare.html">6. Komentáře</a>
        
    
        <a href="/coding/006_promenna.html">7. Proměnná</a>
        
    
        <a href="/coding/007_vetveni.html">8. Větvení</a>
        
    
        <a href="/coding/008_cyklus.html">9. Cyklus</a>
        
    
        <a href="/coding/009_funkce.html">10. Funkce</a>
        
            
                <a href="#motivace" style="margin-left: 18px; font-size: 80%"> Motivace</a>
            
                <a href="#definice" style="margin-left: 18px; font-size: 80%"> Definice</a>
            
                <a href="#návratová-hodnota" style="margin-left: 18px; font-size: 80%"> Návratová hodnota</a>
            
                <a href="#parametry" style="margin-left: 18px; font-size: 80%"> Parametry</a>
            
        
    
        <a href="/coding/010_LEDky.html">11. LEDky</a>
        
    
        <a href="/coding/011_LED_pasek.html">12. LED pásek</a>
        
    
        <a href="/coding/012_seriova_linka.html">13. Sériová linka</a>
        
    
        <a href="/coding/013_koncova_tlacitka.html">14. Koncová tlačítka</a>
        
    
        <a href="/coding/014_prace_s_tlacitky.html">15. Práce s tlačítky</a>
        
    
        <a href="/coding/015_ultrazvuk.html">16. Ultrazvuk</a>
        
    
        <a href="/coding/016_IR_senzor.html">17. IR senzor</a>
        
    
        <a href="/coding/017_motory.html">18. Motory</a>
        
    
        <a href="/coding/018_monitorovani.html">19. Monitorování robotky</a>
        
    
        <a href="/coding/019_servos.html">20. Serva (hloupá)</a>
        
    
        <a href="/coding/999_upravy_dalkoveho_ovladani.html">21. Úpravy dálkového ovládání</a>
        
    


    <a style="margin: 32px 12px 0px 12px; padding: 0 2rem;" class="btn-small" href="https://roboticsbrno.github.io/RB3204-RBCX-Robotka-library/modules.html">Dokumentace</a>
    <a style="margin: 8px 12px 24px 12px; padding: 0 2rem;" class="btn-small green darken-1" href="https://github.com/RoboticsBrno/robotka-examples/archive/master.zip">Příklady</a>

</div>


<div class="bgwrap">
    <div class="main">
        <div class="container con-guide coding-container coding-container-narrow">
            <h1 id="funkce">Funkce</h1>

<h4 id="motivace">Motivace</h4>
<p>Doteď jsme jednotlivé problémy řešili zadáním několika řádků s příkazy. Například pro blikání s LED jsme použili:</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="cp">#include "robotka.h"
</span>
<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">rkConfig</span> <span class="n">cfg</span><span class="p">;</span>
    <span class="n">rkSetup</span><span class="p">(</span><span class="n">cfg</span><span class="p">);</span>
    <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">){</span>
        <span class="n">rkLedBlue</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
        <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
        <span class="n">rkLedBlue</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
        <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></pre></div></div>
<p>Teď už víme, že pro rozblikání stačí provést opakovaně 4 dílčí kroky: rozsviť LED, počkej 0,5 s, rozsviť LED, počkej 0,5 s. Pokud bychom se ovšem rozhodli, provést blikání na různých místech v programu podle hodnoty v proměnné, museli bychom tyto kroky vložit do všech těchto míst. Program by následně vypadal takto:</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre><span class="cp">#include "robotka.h"
</span>
<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">rkConfig</span> <span class="n">cfg</span><span class="p">;</span>
    <span class="n">rkSetup</span><span class="p">(</span><span class="n">cfg</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">pocet_bliknuti</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span><span class="n">LED</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>   <span class="c1">// blikne 1x</span>
        <span class="n">rkLedBlue</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
        <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
        <span class="n">rkLedBlue</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
        <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">LED</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span> <span class="c1">// blikne 2x</span>
        <span class="c1">// 1. bliknuti</span>
        <span class="n">rkLedGreen</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
        <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
        <span class="n">rkLedGreen</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
        <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>

        <span class="c1">// 2. bliknuti</span>
        <span class="n">rkLedGreen</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
        <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
        <span class="n">rkLedGreen</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
        <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Program je poměrně dlouhý a přitom by bylo možné zapsat ho pomocí funkcí například takto:</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="cp">#include "robotka.h"
</span>
<span class="kt">void</span> <span class="nf">blikni</span><span class="p">(){</span> <span class="c1">// vytvoření funkce na blikani</span>
    <span class="n">rkLedBlue</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
    <span class="n">rkLedBlue</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">rkConfig</span> <span class="n">cfg</span><span class="p">;</span>
    <span class="n">rkSetup</span><span class="p">(</span><span class="n">cfg</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">pocet_bliknuti</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span><span class="n">LED</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>   <span class="c1">// blikne 1x</span>
        <span class="n">blikni</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">LED</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span> <span class="c1">// blikne 2x</span>
        <span class="c1">// 1. bliknuti</span>
        <span class="n">blikni</span><span class="p">();</span>

        <span class="c1">// 2. bliknuti</span>
        <span class="n">blikni</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Jak ukazuje ukázka výše, je náš program výrazně kratší a hlavně přehlednější. Přehlednost hlavně spočívá v záměně 4 náhodných řádků za jednu pojmenovanou funkci, u které se podle názvu dá zjistit, co asi dělá. Hlavním úkolem funkcí je zabalit náš kód a nehledě na jeho délce (počtu příkazů), stačí použít pouze jméno této funkce a kulatých závorek.</p>

<h4 id="definice">Definice</h4>
<p>Abychom mohli funkce vůbec používat, neboli volat, je důležité si ji vytvořit (definovat). Definice určuje, zda po zavolání dané funkce dostaneme nějaký výsledek (návratová hodnota) nebo zda pro očekává nějaké hodnoty pro svoji činnost (parametry). Funkci ze potřebí definovat před funkcí setup(), která se nachází v našem programu. Zjednodušeně vypadá definice funkce následovně:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="n">n</span><span class="err">á</span><span class="n">vratov</span><span class="err">ý</span><span class="n">_typ</span> <span class="nf">nazev_funkce</span><span class="p">(</span> <span class="n">seznam_parametru</span> <span class="p">){</span> <span class="c1">// vytvoření funkce na blikani</span>
    <span class="p">...</span><span class="n">nas</span> <span class="n">program</span><span class="p">...</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Jednotlivé části jsou popsány v kapitolách níže. Co se týče názvu funkcí, je celkem zaběhlé pojmenovávat je pomocí slovesa. Tudíž funkci pro sčítání nepojmenujeme jako <code class="language-plaintext highlighter-rouge">sčítání</code>, ale <code class="language-plaintext highlighter-rouge">sečti</code>. Obdobě jsou vhodně pojmenované například tyto funkce: <code class="language-plaintext highlighter-rouge">odečti</code>, <code class="language-plaintext highlighter-rouge">otoč_se</code>, <code class="language-plaintext highlighter-rouge">jdi</code>, <code class="language-plaintext highlighter-rouge">zablikej</code>, <code class="language-plaintext highlighter-rouge">piskni</code> a mnoho dalších.</p>

<h4 id="návratová-hodnota">Návratová hodnota</h4>
<p>Návratová hodnota určuje, zda po provedení naší funkce dostaneme nějaký výsledek nebo ne. Například funkce <code class="language-plaintext highlighter-rouge">secti()</code>, která bude sčítat celá čísla, bude mít návratovou hodnotu součtu a to typu celé číslo (int). Naopak u funkce <code class="language-plaintext highlighter-rouge">vypis_cislo()</code> nebudeme žádnou hodnotu očekávat, protože chceme aby pouze něco vypsala.</p>

<p>Návratové typy jsou stejné, jaké jsme doteď používali u proměnných a to: <code class="language-plaintext highlighter-rouge">int</code> (celé číslo), <code class="language-plaintext highlighter-rouge">float</code> (desetinné číslo), <code class="language-plaintext highlighter-rouge">char</code> (znak) a <code class="language-plaintext highlighter-rouge">std::string</code>. Vyskytuje se tu ovšem jeden nový typ <code class="language-plaintext highlighter-rouge">void</code>. Tento typ nám říká, že nečekáme žádný výsledek po dokončení funkce.</p>

<p>Příklad 1: Funkce typu <code class="language-plaintext highlighter-rouge">void</code> pro bliknutí:</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">blikni</span><span class="p">(){</span> <span class="c1">// vytvoření funkce na blikani</span>
    <span class="n">rkLedBlue</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
    <span class="n">rkLedBlue</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Neočakáváme žádný výsledek, proto uvedeme <code class="language-plaintext highlighter-rouge">void</code>.</p>

<h4 id="parametry">Parametry</h4>
<p>Pokud chceme zadat funkci nějaké hodnoty, se kterými bude pracovat, tak použijeme parametry. Funkce může mít libovolný počet parametrů, který zadáváme při definici, kde u každého parametru uvedeme typ a jméno (stejně jako bychom vytvořili proměnnou). Jméno parametru se využívá uvntř funkce. Při zadávání parametrů funkce, při jejím volání, se musí dodržet pořadí parametru i typ, podle toho, jak jsme si to nadefinovali.
Pokud tedy vytvoříme funkci:</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="kt">int</span> <span class="nf">jmeno</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">char</span> <span class="n">z</span><span class="p">){</span> 
    <span class="p">...</span><span class="n">n</span><span class="err">áš</span> <span class="n">program</span><span class="p">...</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Je nutné předat právě tři parametry a to typu <code class="language-plaintext highlighter-rouge">int</code>, <code class="language-plaintext highlighter-rouge">float</code> a <code class="language-plaintext highlighter-rouge">char</code> v tomto pořadí.</p>

<p>Ukázka funkce pro sčítání bez parametrů a s nimi:</p>
<ol>
  <li>bez parametrů
    <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="kt">int</span> <span class="nf">secti</span><span class="p">(){</span> <span class="c1">// vytvoření funkce na blikani</span>
 <span class="kt">int</span> <span class="n">cislo_1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> 
 <span class="kt">int</span> <span class="n">cislo_2</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

 <span class="k">return</span> <span class="n">cislo_1</span> <span class="o">+</span> <span class="n">cislo_2</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>s parametry
    <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="kt">int</span> <span class="nf">secti</span><span class="p">(</span><span class="kt">int</span> <span class="n">cislo_1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cislo_2</span><span class="p">){</span> <span class="c1">// vytvoření funkce na blikani</span>
 <span class="k">return</span> <span class="n">cislo_1</span> <span class="o">+</span> <span class="n">cislo_2</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<p>Rozdílem je, že v první uvedené sčítací funkci dostaneme při každém volání číslo 13 (neobsahuje žádné parametry, tudíž ji nemůžeme zadat jinou hodnotu), zatím co u druhého příkladu je zadáváme. Pokud tedy budu chtí sečíst číslo 5 a 9, zavolám funkci takto <code class="language-plaintext highlighter-rouge">int secti(5,9);</code> a tak dále. Zároveň si povšimněte, že u druhé sčítací funkce očekávám dva parametry <code class="language-plaintext highlighter-rouge">cislo_1</code> a <code class="language-plaintext highlighter-rouge">cislo_2</code> oba typu celé číslo, kde je oba používám uvnitř samotné funkce.</p>

<p>Mohli jste si povšimnout nového slova <code class="language-plaintext highlighter-rouge">return</code>. Tento příkaz ukončí funkci a navrátí předaný výsledek. Například <code class="language-plaintext highlighter-rouge">return 5</code> vrátí číslo 5. Zjednodušeně si můžeme představit, že po návratu výsledku, například celé číslo, bude nahrazena tato funkce za danou hodnotu. Příkladem může být například výraz <code class="language-plaintext highlighter-rouge">int soucet = secti(5,8);</code> bude nahrazeno za <code class="language-plaintext highlighter-rouge">int soucet = 13;</code>. Příkaz <code class="language-plaintext highlighter-rouge">return</code> musí vracet hodnotu stejného typu, jakou uvádíme návratovou hodnotu funkce, při její definici.</p>


            <div class="coding-container-narrow mv-xxl">
                <h1> </h1>
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                        <h5 style="font-weight:400">Další kapitola: <a href="/coding/010_LEDky.html">LEDky</a></h5>
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
                    
                    
                
            </div>
        </div>
    </div>
</div>

    </main>

    

    <!--  Scripts-->
<script src="/js/jquery.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script src="/js/jquery.fancybox.min.js"></script>
<script>window.noZensmooth = true</script>
<script src="/js/zenscroll-min.js"></script>
<script src="/js/init.js"></script>


    <script>
(function (root, factory) {
    if (typeof define === 'function' && define.amd) {
      define(function() {
        return factory(root);
      });
    } else if (typeof exports === 'object') {
      module.exports = factory;
    } else {
      root.echo = factory(root);
    }
  })(this, function (root) {
  
    'use strict';
  
    var echo = {};
  
    var callback = function () {};
  
    var offset, poll, delay, useDebounce, unload;
  
    var isHidden = function (element) {
      return (element.offsetParent === null);
    };
    
    var inView = function (element, view) {
      if (isHidden(element)) {
        return false;
      }
  
      var box = element.getBoundingClientRect();
      return (box.right >= view.l && box.bottom >= view.t && box.left <= view.r && box.top <= view.b);
    };
  
    var debounceOrThrottle = function () {
      if(!useDebounce && !!poll) {
        return;
      }
      clearTimeout(poll);
      poll = setTimeout(function(){
        echo.render();
        poll = null;
      }, delay);
    };
  
    echo.init = function (opts) {
      opts = opts || {};
      var offsetAll = opts.offset || 0;
      var offsetVertical = opts.offsetVertical || offsetAll;
      var offsetHorizontal = opts.offsetHorizontal || offsetAll;
      var optionToInt = function (opt, fallback) {
        return parseInt(opt || fallback, 10);
      };
      offset = {
        t: optionToInt(opts.offsetTop, offsetVertical),
        b: optionToInt(opts.offsetBottom, offsetVertical),
        l: optionToInt(opts.offsetLeft, offsetHorizontal),
        r: optionToInt(opts.offsetRight, offsetHorizontal)
      };
      delay = optionToInt(opts.throttle, 250);
      useDebounce = opts.debounce !== false;
      unload = !!opts.unload;
      callback = opts.callback || callback;
      echo.render();
      if (document.addEventListener) {
        root.addEventListener('scroll', debounceOrThrottle, false);
        root.addEventListener('load', debounceOrThrottle, false);
      } else {
        root.attachEvent('onscroll', debounceOrThrottle);
        root.attachEvent('onload', debounceOrThrottle);
      }
    };
  
    echo.render = function (context) {
      var nodes = (context || document).querySelectorAll('[data-echo], [data-echo-background]');
      var length = nodes.length;
      var src, elem;
      var view = {
        l: 0 - offset.l,
        t: 0 - offset.t,
        b: (root.innerHeight || document.documentElement.clientHeight) + offset.b,
        r: (root.innerWidth || document.documentElement.clientWidth) + offset.r
      };
      for (var i = 0; i < length; i++) {
        elem = nodes[i];
        if (inView(elem, view)) {
  
          if (unload) {
            elem.setAttribute('data-echo-placeholder', elem.src);
          }
  
          if (elem.getAttribute('data-echo-background') !== null) {
            elem.style.backgroundImage = 'url(' + elem.getAttribute('data-echo-background') + ')';
          }
          else if (elem.src !== (src = elem.getAttribute('data-echo'))) {
            elem.src = src;
          }
  
          if (!unload) {
            elem.removeAttribute('data-echo');
            elem.removeAttribute('data-echo-background');
          }
  
          callback(elem, 'load');
        }
        else if (unload && !!(src = elem.getAttribute('data-echo-placeholder'))) {
  
          if (elem.getAttribute('data-echo-background') !== null) {
            elem.style.backgroundImage = 'url(' + src + ')';
          }
          else {
            elem.src = src;
          }
  
          elem.removeAttribute('data-echo-placeholder');
          callback(elem, 'unload');
        }
      }
      if (!length) {
        echo.detach();
      }
    };
  
    echo.detach = function () {
      if (document.removeEventListener) {
        root.removeEventListener('scroll', debounceOrThrottle);
      } else {
        root.detachEvent('onscroll', debounceOrThrottle);
      }
      clearTimeout(poll);
    };
  
    return echo;
  
  });
</script>
<script>
    echo.init({
      offset: 2500,
      throttle: 250,
      unload: false,
      callback: function (element, op) {
        //console.log(element, 'has been', op + 'ed')
      }
    });
</script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-172441283-1"></script>
<script>
  window['ga-disable-UA-172441283-1'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-172441283-1');
</script>

  </body>

</html>
